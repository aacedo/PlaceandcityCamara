<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Engaging Geographies</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" />
<link href="css/styles_general.css" rel="stylesheet" type="text/css" />
<link href="css/styles_finish.css" rel="stylesheet" type="text/css" />
<link href="css/leaflet.css" rel="stylesheet" type="text/css" />
<link href="css/leaflet.draw.css" rel="stylesheet" type="text/css" />
</head>

<body>
<!-- ------------------------------- Navbar ----------------------------------------------------------------------------- -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header name_navbar col-xs-4 col-sm-5 col-md-5 col-lg-5 visible-lg visible-md visible-sm">
      <a href="index.html" class="name_link"><img src="img/logo_engaging.svg" id="logo_phd">Engaging Geographies</a>
    </div>
    <!--  Visible only xs  -->
    <div class="navbar-header name_navbar col-xs-4 col-sm-5 col-md-5 col-lg-5 visible-xs">
      <a href="index.html" class="name_link"><img src="img/logo_engaging.svg" id="logo_phd"></a>
    </div>
    <ul class="nav navbar-right float-right col-lg-5 col-md-5 col-sm-5 col-xs-8" style="padding-right: 0px;">
      <!-- <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
          <a href="#" style="margin-right:20px" data-toggle="modal" data-target="#myModal2">
            <span class="glyphicon glyphicon-info-sign btn-lg" id="icon-navbar"></span><br>Help
          </a>
      </li> -->
      <!--  Visible only xs  -->
      <!-- <li class="float-right visible-xs" id="links-navbar">
          <a href="#" style="margin-right:0px; padding-right: 0px" data-toggle="modal" data-target="#myModal2">
            <span class="glyphicon glyphicon-info-sign btn-lg" style="padding-right: 0px" id="icon-navbar"></span>
          </a>
      </li> -->
      <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
        <a href="http://www.engagingeographies.com/blog" id="navbar_xs" style="margin-right:20px; margin-left:0px">
          <span class="glyphicon glyphicon-file btn-lg" id="icon-navbar"></span><br>Blog
        </a>
      </li>
      <!--  Visible only xs  -->
      <li class="float-right visible-xs" id="links-navbar">
        <a href="http://www.engagingeographies.com/blog" id="navbar_xs" style="margin-right:0px; margin-left:0px">
          <span class="glyphicon glyphicon-file btn-lg" style="padding-right: 5px" id="icon-navbar"></span>
        </a>
      </li>
      <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
          <a href="contact.html" style="margin-right:20px; margin-left:0px">
            <span class="glyphicon glyphicon-envelope btn-lg" id="icon-navbar"></span><br>Contact
          </a>
      </li>
      <!--  Visible only xs  -->
      <li class="float-right visible-xs" id="links-navbar">
          <a href="contact.html" style="margin-right:0px; margin-left:0px">
            <span class="glyphicon glyphicon-envelope btn-lg" style="padding-right: 5px" id="icon-navbar"></span>
          </a>
      </li>
    </ul>
  </div>
</nav>
<!-- ------------------------------- End Navbar --------------------------------------------------------------------------- -->
<div class="container-fluid">
  <!-- ------------------------------- Map visible lg md sm  -------------------------------------------------------------------- -->
    <div id="pepe" class="col-lg-6 col-md-6 col-sm-6 visible-lg visible-md visible-sm" style="position: fixed; right: 0px;">
        <div class="panel panel-default">
            <div class="panel-body">
              <div id="map" style="height:84vh; position: relative;">
                <div class="visible-lg visible-md visible-sm" style="position: absolute; top: 10px; left: 65px; z-index: 998">
                  <button class="btn btn-default btn-md" id="draw_poly" onclick="drawPolygon()" disabled>
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="margin-right: 5px"></span> Start drawing
                  </button>
                  <button class="btn btn-default btn-md" id="delete_poly">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true" style="margin-right: 5px"></span> Delete area
                  </button>
                </div>
                <!-- <div class="custom_buttons_leaflet visible-lg visible-md visible-sm">
                    <button class="btn btn-default btn-md" id="draw_poly" onclick="drawPolygon()" disabled>
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="margin-right: 5px"></span>
                        Start drawing
                    </button>
                    <button class="btn btn-default btn-md" id="delete_poly">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true" style="margin-right: 5px"></span>
                        Delete area
                    </button>
                </div>
                <div id="map" style="height:84vh"></div> -->
                  <!-- <div class="col-xs-12 col-md-12 col-lg-12 col-sm-12" style="text-align: right;"> -->
                      <a type="button" class="btn btn-primary finish-map pop" data-toggle="popover" data-placement="top" title="Before finish" data-content="Areas that have drawn, chooses the most important to you." onclick="toggler('secondimage');" disabled>Next</a>
                  <!-- </div> -->
                </div>
            </div> <!-- /.panel-body -->
        </div> <!-- /.panel-default -->
    </div> <!-- /.col6 -->

    <!-- ------------------------------- Panel left ------------------------------------------------------------------------------ -->

    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
      <div class="panel panel-default">
        <div class="panel-body">
          <!--  ----------- Questions ---------- -->
          <div class="show">
            <h4>We want to know a little of you ;)</h4>
            <div style="margin-bottom: 20px">
              <h5>Gender</h5>
              <label class="radio-inline">
                  <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> Male
              </label>
              <label class="radio-inline">
                <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> Female
              </label>
              <label class="radio-inline">
                <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> Undefined
              </label>
            </div>
            <div style="margin-bottom: 20px">
              <h5>Age</h5>
              <textarea class="form-control" rows="1" style="width: 100px"></textarea>
            </div>
            <div style="margin-bottom: 20px">
              <h5>Where are you from?</h5>
              <textarea class="form-control" rows="1" style="width: 100px"></textarea>
            </div>
            <div style="margin-bottom: 20px">
              <h5>Study level</h5>
              <textarea class="form-control" rows="1" style="max-width: 500px"></textarea>
            </div>
            <div style="margin-bottom: 20px">
              <h5>Profession</h5>
              <textarea class="form-control" rows="1" style="max-width: 500px"></textarea>
            </div>
            <div style="margin-bottom: 20px">
              <h5>Income</h5>
              <textarea class="form-control" rows="1" style="width: 100px"></textarea>
            </div>
            <a type="button" id="" class="btn btn-primary float-right">Next</a>
          </div> <!-- /questions -->

           <!--  ----------- Dinamic table ---------- -->
          <div class="hidden">
            <span class="glyphicon glyphicon-check btn-lg icon_normal"></span>
            <h3>Thank you for participating!!</h3>
            <div id="table" style="height: 500px; margin-bottom: 20px; margin-top: 20px"></div>
            <!-- <div id="map" style="height: 500px; margin-bottom: 20px; margin-top: 20px"></div> -->
          </div> <!-- /dinamic table -->

          <!--  ----------- Goodbye ---------- -->
          <div class="hidden">
            <p>We appreciate all the effort. If you want to know both where are the areas of your close fellow citizen please or contained in Lisbon city, please, press the correspondent button.</p>
            <p><a type="button" class="btn btn-primary" href="finish.html">Finish</a> <a type="button" class="btn btn-primary" href="finish.html">Finish</a></p>
            <p>We are going to create dynamic areas to connect you with people that share you places and groups!! In case you are interested in be part of these new areas of engagement or have more information about the project, please provide us with your email and twitter username. Together, we are going  to improve Lisbon boundaries!!! </p>
            <form  class="form-inline" style="margin-top: 30px">
              <div class="form-group">
                <label for="mail_user"> Email</label>
                <input type="email" class="form-control" id="mail_user" placeholder="jane.doe@example.com">
              </div>
              <div class="form-group">
                <label for="twitter_name"> Twitter username </label>
                <input class="form-control" id="twitter_name" placeholder="@janedoe">
              </div>
            </form>
            <h3 style="margin-top: 50px">Until next time :)</h3>
            <div class="no-float"></div>
            <hr>
            <img src="img/geoc.png" id="logo_geoc">
            <img src="img/mariecurie.png" id="logo_marie">
            <img src="img/nova.png" id="logo_nova">
            <img src="img/munster.png" id="logo_munster">
            <img src="img/uji.png" id="logo_uji"> 
          </div> <!-- /goodbye -->


                
                   
        </div> <!-- .panel-body -->
      </div> <!-- .panel-default --> 
    </div>  <!-- .col-6 -->
    <div class="no-float"></div>
            <!-- ------------------------------- End Panel left ------------------------------------------------------------------------ -->
</div> <!-- .container fluid -->



<script src="js/jquery-3.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/leaflet.js"></script>
<script src="js/leaflet-src.js"></script>
<script src="js/leaflet.draw.js"></script>
<script src="js/bootstrap-slider.js"></script>
<script src="js/functions_finish.js"></script>





<script src="src/edit/handler/Edit.Poly.js"></script>
<script src="src/edit/handler/Edit.SimpleShape.js"></script>
<script src="src/edit/handler/Edit.Circle.js"></script>
<script src="src/edit/handler/Edit.Rectangle.js"></script>

<script src="src/draw/handler/Draw.Feature.js"></script>
<script src="src/draw/handler/Draw.Polyline.js"></script>
<script src="src/draw/handler/Draw.Polygon.js"></script>
<script src="src/draw/handler/Draw.SimpleShape.js"></script>
<script src="src/draw/handler/Draw.Rectangle.js"></script>
<script src="src/draw/handler/Draw.Circle.js"></script>
<script src="src/draw/handler/Draw.Marker.js"></script>

<script src="src/ext/TouchEvents.js"></script>
<script src="src/ext/LatLngUtil.js"></script>
<script src="src/ext/GeometryUtil.js"></script>
<script src="src/ext/LineUtil.Intersect.js"></script>
<script src="src/ext/Polyline.Intersect.js"></script>
<script src="src/ext/Polygon.Intersect.js"></script>

<script src="src/Control.Draw.js"></script>
<script src="src/Tooltip.js"></script>
<script src="src/Toolbar.js"></script>

<script src="src/draw/DrawToolbar.js"></script>
<script src="src/edit/EditToolbar.js"></script>
<script src="src/edit/handler/EditToolbar.Edit.js"></script>
<script src="src/edit/handler/EditToolbar.Delete.js"></script>






<script>


// LEAFLET MAP + DRAW

// create a map in the "map" div, set the view to a given place and zoom
var map = L.map('map', {
    center: [38.7500, -9.1500],
    zoom: 12,
    scrollWheelZoom: false,
});
// add an OpenStreetMap tile layer
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    // attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);
// Customize button draw polygon - personal contribution
var polygonDrawer = new L.Draw.Polyline(map);

// Initialise the FeatureGroup to store editable layers
var drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

// Initialise the draw control and pass it the FeatureGroup of editable layers
var drawControl = new L.Control.Draw({
    //position: 'topright',
    draw: {
                polyline: false,
                polygon: false,
                rectangle: false,
                circle: false,
                marker: false
    },
    edit: {
        featureGroup: drawnItems,
        // Customize button delete polygon - personal contribution
        remove: false,
        // Edit polygon when you draw it - personal contribution
        edit: false
    }
});

map.addControl(drawControl);

map.on('draw:created', function (e) {
            var type = e.layerType,
                layer = e.layer;

            if (type === 'marker') {
                layer.bindPopup('A popup!');
            }
            // Edit polygon when you draw it - personal contribution
            e.layer.editing.enable();

            drawnItems.addLayer(layer);

        });

map.on('draw:edited', function (e) {
            var layers = e.layers;
            var countOfEditedLayers = 0;
            layers.eachLayer(function(layer) {
                countOfEditedLayers++;
            });
            console.log("Edited " + countOfEditedLayers + " layers");
        });

// Customize button draw polygon - personal contribution
function drawPolygon(){
  var polygonDrawer = new L.Draw.Polygon(map, drawControl);
  polygonDrawer.enable();
}
// Customize button draw polygon - personal contribution
$('#draw_poly').on('click',function() {
    drawControl.enable();
});

// Customize button delete polygon - personal contribution
$('#delete_poly').on('click',function(){
    drawnItems.clearLayers();
  });

// LEAFLET MAP 2 + DRAW

// create a map in the "map" div, set the view to a given place and zoom
var map = L.map('map2').setView([38.7500, -9.1500], 12);
// add an OpenStreetMap tile layer
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    // attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);
// Customize button draw polygon - personal contribution
var polygonDrawer = new L.Draw.Polyline(map);

// Initialise the FeatureGroup to store editable layers
var drawnItems = new L.FeatureGroup();
map.addLayer(drawnItems);

// Initialise the draw control and pass it the FeatureGroup of editable layers
var drawControl = new L.Control.Draw({
    //position: 'topright',
    draw: {
                polyline: false,
                polygon: false,
                rectangle: false,
                circle: false,
                marker: false
    },
    edit: {
        featureGroup: drawnItems,
        // Customize button delete polygon - personal contribution
        remove: false,
        // Edit polygon when you draw it - personal contribution
        edit: false
    }
});

map.addControl(drawControl);

map.on('draw:created', function (e) {
            var type = e.layerType,
                layer = e.layer;

            if (type === 'marker') {
                layer.bindPopup('A popup!');
            }
            // Edit polygon when you draw it - personal contribution
            e.layer.editing.enable();

            drawnItems.addLayer(layer);

        });

map.on('draw:edited', function (e) {
            var layers = e.layers;
            var countOfEditedLayers = 0;
            layers.eachLayer(function(layer) {
                countOfEditedLayers++;
            });
            console.log("Edited " + countOfEditedLayers + " layers");
        });

// Customize button draw polygon - personal contribution
function drawPolygon(){
  var polygonDrawer = new L.Draw.Polygon(map, drawControl);
  polygonDrawer.enable();
}
// Customize button draw polygon - personal contribution
$('#draw_poly').on('click',function() {
    drawControl.enable();
});

// Customize button delete polygon - personal contribution
$('#delete_poly').on('click',function(){
    drawnItems.clearLayers();
  });



</script>

</body>
</html>
