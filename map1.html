<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Place and City</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <link href="css/styles_general.css" rel="stylesheet" type="text/css"/>
    <link href="css/styles_map1.css" rel="stylesheet" type="text/css"/>
    <link href="css/leaflet.css" rel="stylesheet" type="text/css"/>
    <link href="css/leaflet.draw.css" rel="stylesheet" type="text/css"/>
    <link href="css/bootstrap-slider.css" rel="stylesheet" type="text/css"/>

</head>

<body>
<!-- ------------------------------- Navbar --------------------------------------------------------------------------------- -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
        <div class="navbar-header name_navbar col-xs-4 col-sm-5 col-md-5 col-lg-5 visible-lg visible-md visible-sm">
            <img src="img/logo_engaging.svg" id="logo_phd">Place and City
        </div>
        <!--  Visible only xs  -->
        <div class="navbar-header name_navbar col-xs-4 col-sm-5 col-md-5 col-lg-5 visible-xs">
            <img src="img/logo_engaging.svg" id="logo_phd">
        </div>
        <ul class="nav navbar-right float-right col-lg-5 col-md-5 col-sm-5 col-xs-8" style="padding-right: 0px;">
            <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
                <a href="#" style="margin-right:20px" data-toggle="modal" data-target="#myModal2">
                    <span class="glyphicon glyphicon-info-sign btn-lg" id="icon-navbar"></span><br>Help
                </a>
            </li>
            <!--  Visible only xs  -->
            <li class="float-right visible-xs" id="links-navbar">
                <a href="#" style="margin-right:0px; padding-right: 0px" data-toggle="modal" data-target="#myModal2">
                    <span class="glyphicon glyphicon-info-sign btn-lg" style="padding-right: 0px"
                          id="icon-navbar"></span>
                </a>
            </li>
            <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
                <a href="http://www.engagingeographies.com/blog" id="navbar_xs"
                   style="margin-right:20px; margin-left:0px">
                    <span class="glyphicon glyphicon-file btn-lg" id="icon-navbar"></span><br>Blog
                </a>
            </li>
            <!--  Visible only xs  -->
            <li class="float-right visible-xs" id="links-navbar">
                <a href="http://www.engagingeographies.com/blog" id="navbar_xs"
                   style="margin-right:0px; margin-left:0px">
                    <span class="glyphicon glyphicon-file btn-lg" style="padding-right: 5px" id="icon-navbar"></span>
                </a>
            </li>
            <li class="float-right visible-lg visible-md visible-sm" id="links-navbar">
                <a href="contact.html" style="margin-right:20px; margin-left:0px">
                    <span class="glyphicon glyphicon-envelope btn-lg" id="icon-navbar"></span><br>Contact
                </a>
            </li>
            <!--  Visible only xs  -->
            <li class="float-right visible-xs" id="links-navbar">
                <a href="contact.html" style="margin-right:0px; margin-left:0px">
                    <span class="glyphicon glyphicon-envelope btn-lg" style="padding-right: 5px"
                          id="icon-navbar"></span>
                </a>
            </li>
        </ul>
    </div>
</nav>
<!-- ------------------------------- End Navbar ----------------------------------------------------------------------------- -->
<div class="container-fluid">
    <!-- ------------------------------- Map visible lg md sm  -------------------------------------------------------------------- -->
    <div id="pepe" class="col-lg-6 col-md-6 col-sm-6 visible-lg visible-md visible-sm" style="position: fixed; right: 0px;">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="custom_buttons_leaflet visible-lg visible-md visible-sm">
                    <button class="btn btn-default btn-md" id="draw_poly" onclick="drawPolygon()" disabled>
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true" style="margin-right: 5px"></span>
                        Start drawing
                    </button>
                    <button class="btn btn-default btn-md" id="delete_poly">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true" style="margin-right: 5px"></span>
                        Delete area
                    </button>
                </div>
                <div id="map" style="height:84vh"></div>
                  <div class="col-xs-12 col-md-12 col-lg-12 col-sm-12" style="text-align: right;">
                      <a type="button" class="btn btn-primary finish-map pop" data-toggle="popover" data-placement="top" title="Before finish" data-content="Areas that have drawn, chooses the most important to you." onclick="toggler('secondimage');" disabled>Next</a>
                  </div>
            </div>
        </div>
    </div>



    <!-- ------------------------------- Panel left ------------------------------------------------------------------------------ -->
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
        <div class="panel panel-default">
            <div class="panel-body">
                <!--  Header  -->
                <h4 style="margin-bottom: 20px" class="show" id="title_done">
                    We want to know where are your meaningful (for some reason/s) places for you in Lisbon. <br><br>
                    Please, draw the area/s in Lisbon which you most identify with (e.g. this place represents me)
                    and/or feel attached to (e.g. I love this place) and/or depend on (e.g. for doing the things that I
                    enjoy most, this is the most suitable place) for your livelihood. <br><br> Please draw as many areas
                    as you need.
                </h4>

                <h4 style="margin-bottom: 20px" class="hidden" id="title2_done">Good Job! Now Draw another time if you want. Please draw as many polygons as you like on the areas where you feel more identified</h4>
                <!-- ------------------------------- Sliders ----------------------------------------------------- -->
                <div class="hidden" id="sliders_done">
                    <h5> Please, indicate with the sliders the level of only applicable characteristic that contain the
                        drawn area. </h5>
                    <div class="no-float"></div>
                    <hr style="width: 100%">
                    <!--  Question 1  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Natural environment</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex1" type="text" data-slider-id='ex1Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex1CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex1SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 2  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Cultural landscape and its current use / Scenic-aesthetic /
                            Spiritual </p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex2" type="text" data-slider-id='ex2Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex2CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex2SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 3  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Social networks, friends and family</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex3" type="text" data-slider-id='ex3Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex3CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex3SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 4  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Local cultural history and cultural values</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex4" type="text" data-slider-id='ex4Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex4CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex4SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 5  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Mining history</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex5" type="text" data-slider-id='ex5Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex5CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex5SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 6  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Recreation/Traditions</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex6" type="text" data-slider-id='ex6Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex6CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex6SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <!--  Question 7  -->
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-top: 20px">
                        <span class="glyphicon glyphicon-cutlery btn-lg col-lg-1 col-md-1 col-sm-1 col-xs-1 icon-slider"
                              style="text-align:center;"></span>
                        <p class="tematic-slider">Econonomic values (job-place, agricultural place...)</p>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" style="margin-bottom: 20px; margin-top: 20px">
                        <input id="ex7" type="text" data-slider-id='ex7Slider' data-slider-min="0" data-slider-max="10"
                               data-slider-step="1" data-slider-value="0"/>
                        <span id="ex7CurrentSliderValLabel" class="col-lg-12 col-md-12 col-sm-12 col-xs-12">Current Slider Value: <span
                                id="ex7SliderVal">0</span></span>
                    </div>
                    <div class="no-float"></div>
                    <a type="button" id="sliders_done_button" class="btn btn-primary float-right display_sliders  display_title display_title2">Done</a>
                </div>
                <!-- -------------------------------  End Slider ----------------------------------------------------- -->



                <!-- ------------------------------- Do you live in that area?  -------------------------------------- -->
                <div class="hidden" id="area_done">
                    <h5 style="margin-top: 20px">
                        Do you live in that area?
                    </h5>
                    <div>
                        <label class="radio-inline">
                            <input type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1"> Yes
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2"> Not
                        </label>
                    </div>
                    <h5 style="margin-top: 20px">
                        Please, put a name to the selected area
                    </h5>
                    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6" style="padding-left: 0px; width: 250px">
                        <textarea class="form-control" rows="1"></textarea>
                    </div>
                    <div class="no-float"></div>
                    <a type="button" class="btn btn-primary float-right display_questions"
                       onclick="changeclass();">Done</a>
                    <div class="no-float"></div>
                </div>

                <!-- ------------------------------- End Do you live in that area? ----------------------------------- -->

                <!-- ------------------------------- SOP questions  -------------------------------------------------- -->
                <div class="hidden" id="questions_done">
                    <hr style="width: 100%; margin-bottom: 50px">
                    <h5>Please, answer the following questions regarding the X area.</h5>
                    <hr style="width: 100%">
                    <h5 style="margin-bottom: 20px; padding-top: 0px">
                        Place Identity
                    </h5>
                    <div class="no-float">
                        <div>
                            <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">Everything about
                                this area is a reflection of me.</p>
                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                 style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                    <input type="radio" name="PI1"  value="1"> 1
                                    Disagree
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI1"  value="2"> 2
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI1"  value="3"> 3
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI1" value="4"> 4
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI1" value="5"> 5
                                    Agree
                                </label>
                            </div>
                        </div>
                        <div class="no-float"></div>
                        <div>
                            <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">I feel that I
                                can really be myself at this area</p>
                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                 style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                    <input type="radio" name="PI2"  value="1"> 1
                                    Disagree
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI2"  value="2"> 2
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI2"  value="3"> 3
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI2" value="4"> 4
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI2" value="5"> 5
                                    Agree
                                </label>
                            </div>
                        </div>
                        <div class="no-float"></div>
                        <div>
                            <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">This area
                                reflects the type of person I am.</p>
                            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                 style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                    <input type="radio" name="PI3"  value="1"> 1
                                    Disagree
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI3"  value="2"> 2
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI3"  value="3"> 3
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI3" value="4"> 4
                                </label>
                                <label class="radio-inline"
                                       style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                    <input type="radio" name="PI3" value="5"> 5
                                    Agree
                                </label>
                            </div>
                        </div>
                        <div class="no-float"></div>
                        <h5 style="margin-bottom: 20px; padding-top: 0px;">
                            Place Attachment
                        </h5>
                        <div class="no-float">
                            <div>
                                <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">I feel
                                    relaxed when I’m at this area</p>
                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                     style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                    <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                        <input type="radio" name="PA1"  value="1"> 1
                                        Disagree
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA1"  value="2"> 2
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA1"  value="3"> 3
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA1" value="4"> 4
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA1" value="5"> 5
                                        Agree
                                    </label>
                                </div>
                            </div>
                            <div class="no-float"></div>
                            <div>
                                <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">I feel
                                    happiest when I’m at this area </p>
                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                     style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                    <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                        <input type="radio" name="PA2"  value="1"> 1
                                        Disagree
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA2"  value="2"> 2
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA2"  value="3"> 3
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA2" value="4"> 4
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA2" value="5"> 5
                                        Agree
                                    </label>
                                </div>
                            </div>
                            <div class="no-float"></div>
                            <div>
                                <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">This area is
                                    my favorite place to be</p>
                                <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                     style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                    <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                        <input type="radio" name="PA3"  value="1"> 1
                                        Disagree
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA3"  value="2"> 2
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA3"  value="3"> 3
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA3" value="4"> 4
                                    </label>
                                    <label class="radio-inline"
                                           style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                        <input type="radio" name="PA3" value="5"> 5
                                        Agree
                                    </label>
                                </div>
                            </div>
                            <div class="no-float"></div>
                            <h5 style="margin-bottom: 20px; padding-top: 0px">
                                Place Dependence
                            </h5>
                            <div class="no-float">
                                <div>
                                    <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">This
                                        area is the best place for doing the things that I enjoy most</p>
                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                         style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                        <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                            <input type="radio" name="PD1"  value="1"> 1
                                            Disagree
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD1"  value="2"> 2
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD1"  value="3"> 3
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD1" value="4"> 4
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD1" value="5"> 5
                                            Agree
                                        </label>
                                    </div>
                                </div>
                                <div class="no-float"></div>
                                <div>
                                    <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">For
                                        doing the things that I enjoy most, no other place can compare to this area</p>
                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                         style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                        <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                            <input type="radio" name="PD1"  value="1"> 1
                                            Disagree
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD2"  value="2"> 2
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD2"  value="3"> 3
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD2" value="4"> 4
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD2" value="5"> 5
                                            Agree
                                        </label>
                                    </div>
                                </div>
                                <div class="no-float"></div>
                                <div>
                                    <p class="col-lg-6 col-md-12 col-sm-12 col-xs-12" style="padding-left: 0px">This
                                        area is not a good place to do the things I most like to do.</p>
                                    <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12"
                                         style="padding-left: 5px; padding-right: 5px; margin-bottom: 20px">
                                        <label class="radio-inline personal_radio" style="margin-top: -10px; font-size: 12px;">
                                            <input type="radio" name="PD1"  value="1"> 1
                                            Disagree
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD3"  value="2"> 2
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD3"  value="3"> 3
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD3" value="4"> 4
                                        </label>
                                        <label class="radio-inline"
                                               style="margin-top: -10px; margin-left: 10px; font-size: 12px">
                                            <input type="radio" name="PD3" value="5"> 5
                                            Agree
                                        </label>
                                    </div>
                                    <div class="no-float"></div>
                                    <a type="button" id="questions-sop" class="btn btn-primary float-right" href="map2.html">Done</a>
                                </div>
                            </div>
                        </div> <!-- /questions-panel-left  -->
                        <!-- ------------------------------- End SOP questions -------------------------------------------------- -->
                    </div> <!-- .col-6 -->
                </div> <!-- .panel-default -->
            </div> <!-- .panel-body -->
            <div class="no-float"></div>
            <!-- ------------------------------- End Panel left ------------------------------------------------------------------------ -->

            <!-- ------------------------------- Map visible xs ---------------------------------------------------------------------------------- -->
            <div class="visible-xs col-xs-12" style="padding: 0px; padding-top: 30px">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="custom_buttons_leaflet">
                            <button class="btn btn-default btn-xs" id="draw_polyxs" onclick="drawPolygon()">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"
                                      style="margin-right: 5px;"></span> Drawing
                            </button>
                            <button class="btn btn-default btn-xs" id="delete_polyxs">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"
                                      style="margin-right: 5px"></span> Delete
                            </button>
                        </div>
                        <div id="map2" style="height:83vh"></div>
                        <!-- Button finish -->
                        <div class="col-xs-12 col-md-12 col-lg-12 col-sm-12" style="text-align: right;">
                          <a class="btn btn-primary finish-map" href="#">Next</a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ------------------------------- End map ------------------------------------------------------------------------------ -->
        </div>
    </div> <!-- .container fluid -->

    <!-- ------------------------------- Modal 3 Learn draw --------------------------------------------------------------------- -->
    <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <!-- <div class="triangle_draw"></div>
                <div id="rectangle_draw"></div> -->
                <div class="modal-header">
                    Let’s start!! – Please, read the following instructions carefully.
                    <button type="button" class="close" id="icon-link" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <!--  Explanation of the process of drawing  -->
                    <p>This is a web-map survey application for Lisbon city. We invite you to draw whatever size of
                        areas on the map freely. To start, just press Start Mapping at top left</p>
                    <img src="img/draw.png" id="image_draw">
                    <p>and then click on the map to define your first point and as many points as you need to define
                        your area. To close the area, click on the first point again. You can edit the polygon moving
                        any point at any time or delete it pressing the delete area button.</p>
                    <img src="img/delete.png" id="image_draw">
                    <p>You can "pan" the map or zoom in (+ or -) using the map controls and change the base map on top
                        right corner. You can draw as many areas as you need. The more areas you place, the better! Most
                        people place at least four areas per each concept.</p>
                </div> <!--/.modal-body -->
                <div class="no-float"></div>
                <div class="modal-footer" style="border:none;">
                    <div class="float-left" style="color: #A9A9A9; padding-top: 8px">
                        1/3
                    </div>
                    <div class="float-right">
                        <button type="button" class="btn btn-primary btn-next" href="#">Next</button>
                    </div>
                </div>
            </div> <!--/.modal-content -->
        </div> <!--/.modal-dialog -->
    </div> <!--/.modal fade -->
    <!-- ------------------------------- End Modal 3 ---------------------------------------------------------------------------- -->
    <!-- ------------------------------- Modal 4 Learn sliders ------------------------------------------------------------------ -->
    <div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header visible-sm visible-md visible-lg">
                    Questions & Sliders.
                    <button type="button" class="close" id="icon-link" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <!--  Visible only xs -->
                <div class="modal-header visible-xs">
                    <button type="button" class="close" id="icon-link" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    Sliders
                </div>
                <div class="modal-body">
                    <!--  Explanation as sliders are used  -->
                    <p>We also want to know your perception regarding the drawn areas. So, please answer the questions h
                        h regarding the areas when is required. We also provide you some tool to characterize the
                        areas </p>
                    <img src="img/slider.png" id="image_slider"
                         class="col-xs-12 col-sm-10 col-md-10 col-lg-10 col-sm-offset-2 col-md-offset-2 col-lg-offset-2">
                    <div class="no-float"></div>
                    <p style="margin-top: 20px">through moving horizontally the circle inside the sliders, you can give
                        us your opinion (from 0 to 10) about each respective asked item. </p>
                </div> <!--/.modal-body -->
                <div class="no-float"></div>
                <div class="modal-footer" style="border:none;">
                    <div class="float-left" style="color: #A9A9A9; padding-top: 8px">
                        2/3
                    </div>
                    <div class="float-right">
                        <button type="button" class="btn btn-primary btn-next" href="#">Next</button>
                    </div>
                    <div class="float-right" style="padding-top: 8px; margin-right: 20px">
                        <a type="button" class="link-primary btn-prev" href="#">Prev</a>
                    </div>
                </div>
            </div> <!--/.modal-content -->
        </div> <!--/.modal-dialog -->
    </div> <!--/.modal fade -->
    <!-- ------------------------------- End Modal 4 ---------------------------------------------------------------------------- -->
    <!-- ------------------------------- Modal 5 Learn finish ------------------------------------------------------------------- -->
    <div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header" style="border: none">

                    <button type="button" class="close" id="icon-link" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <!--  Explanation finish  -->
                    <p>This is all. When you finish to locate your different areas and to move on to the next activity,
                        press the button next.</p>
                    <img src="img/next.png" class="col-xs-offset-4 col-sm-offset-5 col-md-offset-5 col-lg-offset-5"
                         id="image_finish">
                    <h4 style="text-align: center">Happy mapping!! </h4>
                </div> <!--/.modal-body -->
                <div class="no-float"></div>
                <div class="modal-footer" style="border:none;">
                    <div class="float-left" style="color: #A9A9A9; padding-top: 8px">
                        3/3
                    </div>
                    <div class="float-right">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close" href="#">
                            Done
                        </button>
                    </div>
                    <div class="float-right" style="padding-top: 8px; margin-right: 20px">
                        <a type="button" class="link-primary btn-prev" href="#">Prev</a>
                    </div>
                </div>
            </div> <!--/.modal-content -->
        </div> <!--/.modal-dialog -->
    </div> <!--/.modal fade -->
    <!-- ------------------------------- End Modal 5 ---------------------------------------------------------------------------- -->


    <script src="js/jquery-3.1.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/leaflet-src.js"></script>
    <script src="js/leaflet.draw.js"></script>
    <script src="js/bootstrap-slider.js"></script>
    <script src="js/functions_map1.js"></script>


    <script src="src/edit/handler/Edit.Poly.js"></script>
    <script src="src/edit/handler/Edit.SimpleShape.js"></script>
    <script src="src/edit/handler/Edit.Circle.js"></script>
    <script src="src/edit/handler/Edit.Rectangle.js"></script>

    <script src="src/draw/handler/Draw.Feature.js"></script>
    <script src="src/draw/handler/Draw.Polyline.js"></script>
    <script src="src/draw/handler/Draw.Polygon.js"></script>
    <script src="src/draw/handler/Draw.SimpleShape.js"></script>
    <script src="src/draw/handler/Draw.Rectangle.js"></script>
    <script src="src/draw/handler/Draw.Circle.js"></script>
    <script src="src/draw/handler/Draw.Marker.js"></script>

    <script src="src/ext/TouchEvents.js"></script>
    <script src="src/ext/LatLngUtil.js"></script>
    <script src="src/ext/GeometryUtil.js"></script>
    <script src="src/ext/LineUtil.Intersect.js"></script>
    <script src="src/ext/Polyline.Intersect.js"></script>
    <script src="src/ext/Polygon.Intersect.js"></script>

    <script src="src/Control.Draw.js"></script>
    <script src="src/Tooltip.js"></script>
    <script src="src/Toolbar.js"></script>

    <script src="src/draw/DrawToolbar.js"></script>
    <script src="src/edit/EditToolbar.js"></script>
    <script src="src/edit/handler/EditToolbar.Edit.js"></script>
    <script src="src/edit/handler/EditToolbar.Delete.js"></script>


    <script>


        function isElementInViewport (el) {

            //special bonus for those using jQuery
            if (typeof jQuery === "function" && el instanceof jQuery) {
                el = el[0];
            }

            var rect = el.getBoundingClientRect();

            return !((rect.top==0)&&(rect.left==0)&&(rect.bottom==0)&&(rect.right==0));
        }


        // LEAFLET MAP + DRAW

        // create a map in the "map" div, set the view to a given place and zoom
        var map1 = L.map('map', {
            scrollWheelZoom: false,
        });


        map1.on('load', function (e) {
            if(isElementInViewport($('#map'))){
                createAll(map1, $("#draw_poly"), $("#delete_poly"));
            }
        });

        map1.setView([38.7500, -9.1500], 12);


        // LEAFLET MAP 2 + DRAW

        // create a map in the "map" div, set the view to a given place and zoom
        var mapxs = L.map('map2');

        mapxs.on('load', function (e) {
            if(isElementInViewport($('#map2'))){
                createAll(mapxs, $("#draw_polyxs"), $("#delete_polyxs"));
            }
        });

        mapxs.setView([38.7500, -9.1500], 12);

        var map, drawnItems,drawControl;
        var buttonDraw, buttonDelete;

        function createAll(rmap, bdraw, bdelete){
            map = rmap;
            buttonDraw = bdraw;
            buttonDelete = bdelete;
            // add an OpenStreetMap tile layer
            L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            // Customize button draw polygon - personal contribution
            var polygonDrawer = new L.Draw.Polyline(map);

            // Initialise the FeatureGroup to store editable layers
            drawnItems = new L.FeatureGroup();
            map.addLayer(drawnItems);

            // Initialise the draw control and pass it the FeatureGroup of editable layers
            drawControl = new L.Control.Draw({
                //position: 'topright',
                draw: {
                    polyline: false,
                    polygon: false,
                    rectangle: false,
                    circle: false,
                    marker: false
                },
                edit: {
                    featureGroup: drawnItems,
                    // Customize button delete polygon - personal contribution
                    remove: false,
                    // Edit polygon when you draw it - personal contribution
                    edit: false
                }
            });
            map.addControl(drawControl);

            map.on('draw:created', function (e) {
                var type = e.layerType,
                        layer = e.layer;

                if (type === 'marker') {
                    layer.bindPopup('A popup!');
                }
                // Edit polygon when you draw it - personal contribution
                e.layer.editing.enable();
                drawnItems.addLayer(layer);
                map.fitBounds(drawnItems.getBounds(), null);
                $("#sliders_done").removeClass().addClass("hidden");
                $("#title_done").removeClass().addClass("show");
                $("#title2_done").removeClass().addClass("hidden");
                $("#draw_poly").prop('disabled', true);
                $(".finish-map").attr('disabled', true);
                showsliders();
            });

            map.on('draw:edited', function (e) {
                var layers = e.layers;
                var countOfEditedLayers = 0;
                layers.eachLayer(function (layer) {
                    countOfEditedLayers++;
                });
                console.log("Edited " + countOfEditedLayers + " layers");
                map.fitBounds(drawnItems.getBounds(), null);
            });
        }

        // Customize button draw polygon - personal contribution
        function drawPolygon() {
            var polygonDrawer = new L.Draw.Polygon(map, drawControl);
            polygonDrawer.enable();
        }

        // Customize button delete polygon - personal contribution
        $('#delete_poly').on('click', function () {
            drawnItems.clearLayers();
            if ($('#title2_done').is(":hidden")) {
                $("#sliders_done").removeClass().addClass("show");
                $("#title_done").removeClass().addClass("hidden");
                $("#draw_poly").prop('disabled', false);
                showsliders();
            }
        });




        /*// add an OpenStreetMap tile layer
        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(mapxs);



        // Customize button draw polygon - personal contribution
        var polygonDrawer = new L.Draw.Polyline(mapxs);

        // Initialise the FeatureGroup to store editable layers
        var drawnItemsxs = new L.FeatureGroup();
        mapxs.addLayer(drawnItemsxs);

        //----

        // Initialise the draw control and pass it the FeatureGroup of editable layers
        var drawControlxs = new L.Control.Draw({
            //position: 'topright',
            draw: {
                polyline: false,
                polygon: false,
                rectangle: false,
                circle: false,
                marker: false
            },
            edit: {
                featureGroup: drawnItemsxs,
                // Customize button delete polygon - personal contribution
                remove: false,
                // Edit polygon when you draw it - personal contribution
                edit: false
            }
        });

        mapxs.addControl(drawControlxs);

        mapxs.on('draw:created', function (e) {
            var type = e.layerType,
                    layer = e.layer;

            if (type === 'marker') {
                layer.bindPopup('A popup!');
            }
            // Edit polygon when you draw it - personal contribution
            e.layer.editing.enable();
            drawnItemsxs.addLayer(layer);
            mapxs.fitBounds(drawnItemsxs.getBounds(), null);
            $("#sliders_done").removeClass().addClass("hidden");
            $("#title_done").removeClass().addClass("show");
            $("#title2_done").removeClass().addClass("hidden");
            $("#draw_poly").prop('disabled', true);
            $(".finish-map").attr('disabled', true);
            showsliders();

        });

        mapxs.on('draw:edited', function (e) {
            var layers = e.layers;
            var countOfEditedLayers = 0;
            layers.eachLayer(function (layer) {
                countOfEditedLayers++;
            });
            console.log("Edited " + countOfEditedLayers + " layers");
        });


        // Customize button draw polygon - personal contribution
        function drawPolygonxs() {
            var polygonDrawer = new L.Draw.Polygon(mapxs, drawControlxs);
            polygonDrawer.enable();
        }

        // Customize button delete polygon - personal contribution
        $('#delete_polyxs').on('click', function () {
            drawnItems.clearLayers();
            if ($('#title2_done').is(":hidden")) {
                $("#sliders_done").removeClass().addClass("show");
                $("#title_done").removeClass().addClass("hidden");
                $("#draw_poly").prop('disabled', false);
                showsliders();
            }
        });*/


    </script>

</body>
</html>
